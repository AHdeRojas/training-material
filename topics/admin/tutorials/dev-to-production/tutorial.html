<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Galaxy Training!</title>
        <link rel="stylesheet" href="/training-material/assets/css/bootstrap.min.css?v=3">
        <link rel="stylesheet" href="/training-material/assets/css/main.css?v=2">
        <link rel="stylesheet" href="/training-material/assets/css/font-awesome.css">
        <link rel="stylesheet" href="/training-material/assets/css/academicons.css">
        <link rel="stylesheet" href="/training-material/assets/css/syntax_highlighting.css">
        <link rel="shortcut icon" href="/training-material/favicon.ico" type="image/x-icon" />

        
        
        
        
        
        <meta name="description" content="Resources related to configuration and maintenance of Gal..." />
        <meta property="og:title" content="Galaxy Training: Move from dev instance to production instance" />
        <meta property="og:description" content="Resources related to configuration and maintenance of Gal..." />
        <meta property="og:image" content="/training-material/assets/images/GTNLogo1000.png" />
    </head>
    <body>
        




<header>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="/training-material/">
                <img src="/training-material/assets/images/GTN-60px.png" height="30" alt="Galaxy Training Network logo">
                Galaxy Training!
            </a>

            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#top-navbar" aria-controls="top-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="top-navbar">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/training-material/topics/admin" title="Go back to list of tutorials">
                            <i class="fa fa-folder-o" aria-hidden="true"></i><span class="visually-hidden">topic</span> Galaxy Server administration
                        </a>
                    </li>

                    
                    
                    

                    
                        
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Introduction slides">
                                    <i class="fa fa-slideshare" aria-hidden="true"></i><span class="visually-hidden">slides</span> Introduction slides
                                </a>
                                <div class="dropdown-menu">
                                    
                                        
                                            
                                                <a class="dropdown-item" href="/training-material/topics/admin/slides/introduction.html">
                                                    Galaxy from an administrator point of view
                                                </a>
                                            
                                        
                                    
                                        
                                            
                                        
                                    
                                        
                                            
                                        
                                    
                                        
                                            
                                        
                                    
                                        
                                            
                                        
                                    
                                        
                                            
                                        
                                    
                                        
                                            
                                        
                                    
                                        
                                    
                                        
                                            
                                        
                                    
                                        
                                            
                                        
                                    
                                        
                                            
                                        
                                    
                                </div>
                            </li>
                        
                    

                    
                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Where to run the tutorial">
                                <i class="fa fa-cog" aria-hidden="true"></i><span class="visually-hidden">instances</span> Galaxy Instances
                            </a>
                            <div class="dropdown-menu">
                                
                                    <a class="dropdown-item" href="https://github.com/galaxyproject/training-material/tree/master/topics/admin/docker" title="Docker image for this tutorial">
                                        <i class="fa fa-ship" aria-hidden="true"></i><span class="visually-hidden">docker_image</span> Docker image
                                    </a>
                                
                                
                                
                            </div>
                        </li>
                    

                    

                    

                    

                    <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Help">
        <i class="fa fa-life-ring" aria-hidden="true"></i><span class="visually-hidden">help</span> Help
    </a>
    <div class="dropdown-menu">
        <a class="dropdown-item" href="/training-material/faq" title="Check our FAQ">
            FAQ
        </a>
        <a class="dropdown-item" href="https://gitter.im/Galaxy-Training-Network/Lobby" title="Chat on Gitter">
            Gitter
        </a>
        <a class="dropdown-item" href="https://biostar.usegalaxy.org/" title="Ask on Biostars">
            Biostars
        </a>
    </div>
</li>


                    <li class="nav-item">
                        <a class="nav-link" href="https://github.com/galaxyproject/training-material/edit/master/topics/admin/tutorials/dev-to-production/tutorial.md">
                            <i class="fa fa-github" aria-hidden="true"></i><span class="visually-hidden">github</span> Edit
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<div class="container main-content">
    <script type="application/ld+json">
   
{
  "@context": "http://schema.org",
  "@type": "CreativeWork",
  "name": "Move from dev instance to production instance",
  "accessModeSufficient": "visual",
  "accessibilityControl": "fullMouseControl",
  "accessibilityFeature": [
    "alternativeText",
    "tableOfContents"
  ],
  "audience": {
    "@type": "EducationalAudience",
    "educationalRole": "students"
  },
  "inLanguage": {
    "@type": "Language",
    "name": "English",
    "alternateName": "en"
  },
  "interactivityType": "mixed",
  "isAccessibleForFree": true,
  "license": "https://github.com/galaxyproject/training-material/blob/master/LICENSE.md",
  "learningResourceType": "",
  "url": "/topics/admin/tutorials/dev-to-production/tutorial.html",
  "mentions": [
    {
      "@type": "Thing",
      "url": "",
      "name": "Training data for Move from dev instance to production instance tutorial"
    }
  ],
  "timeRequired": "PT1H",
  "contributor": [
    {
      "@type": "Person",
      "name": "hrhotz"
    }
  ]
}

    </script>
    <section class="tutorial">
        <h1>Move from dev instance to production instance</h1>

        <blockquote class="overview">
            <h3>Overview</h3>

            <strong><i class="fa fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Questions</strong>
            <ul>
            
            </ul>

            <strong><i class="fa fa-bullseye" aria-hidden="true"></i><span class="visually-hidden">objectives</span> Objectives</strong>
            <ul>
            
            </ul>

            

            
            <p><strong><i class="fa fa-hourglass-end" aria-hidden="true"></i><span class="visually-hidden">time</span> Time estimation:</strong> 1 hour</p>
            
        </blockquote>

        <h1 id="move-from-dev-instance-to-production-instance">Move from dev instance to production instance</h1>

<p><strong><em>Questions</em></strong></p>

<ul>
  <li><em>Why do I need to configure Galaxy for production ?</em></li>
  <li><em>How to run a galaxy in a production environment ?</em></li>
</ul>

<p><strong><em>Objectives</em></strong></p>

<ul>
  <li><em>Learn to install a Galaxy server.</em></li>
  <li><em>Upgrade a basic galaxy installation to a production environment</em>.</li>
  <li><em>Get a basic understanding of entry points in the main galaxy configuration file.</em></li>
</ul>

<p><strong><em>Requirements</em></strong></p>

<ul>
  <li><em><a href="/training-material/topics/admin">Galaxy Server Administration</a></em></li>
</ul>

<h1 id="introduction">Introduction</h1>

<p>In this tutorial you will learn to install and configure a galaxy instance.
The basic installation instructions are suitable for development only.
For setting up a Galaxy for a multi-user production environment additional steps are necessary.
After a basic installation, this tutorial present the main steps for moving from a basic installation to a production environment.</p>

<p><img src="../../images/scheme-dev_to_production.png" alt="Flowchart of the processes of configuring galaxy for a production environment. After the basic installation the developer settings should be disabled. The next steps are to switch to a database server and use proxy server. A compute cluster should be used. The following would be to clean up database and rotate log files. Check the local data and enable upload via FTP and the galaxy instance is ready for the production." style="width: 600px;" /></p>

<h1 id="basic-installation">Basic Installation</h1>

<h2 id="clone-it-and-run-it">Clone it and run it</h2>

<p><i class="fa fa-pencil" aria-hidden="true"></i><span class="visually-hidden">hands_on</span> <strong><em>Hands on!</em></strong></p>

<p>Galaxy’s source code is hosted in a <a href="https://github.com/galaxyproject/galaxy">GitHub</a> repository.</p>

<p>To get the code run:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone -b release_16.07 https://github.com/galaxyproject/galaxy.git
</code></pre></div></div>

<p>To start the galaxy go to the galaxy directory and run:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sh run.sh
</code></pre></div></div>

<p>This will start up the server on localhost and port 8080, so Galaxy can be accessed from your web browser at http://localhost:8080 .</p>

<p>Galaxy’s server will start printing its output to your terminal. To stop the Galaxy server, just hit Ctrl-c in the terminal from which Galaxy is running.</p>

<h2 id="access-galaxy-over-the-network">Access Galaxy over the network</h2>
<p>In the basic installation Galaxy is bind to the loopback interface.
To bind Galaxy to any available network interface edit the config/galaxy.ini file and change the host setting to:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>host = 0.0.0.0
</code></pre></div></div>

<h2 id="what-did-you-just-installed-">What did you just installed ?</h2>
<p>The galaxy you have just installed is configured with the following:</p>

<ul>
  <li><a href="https://www.sqlite.org/">SQLite</a>: a serverless database.</li>
  <li>A built-in HTTP server, written in Python.</li>
</ul>

<p>The tools are run locally and the galaxy server itself run in a single process.</p>

<h2 id="useful-things-to-know-">Useful things to know …</h2>

<ul>
  <li>The command: git clone -b release_16.07 https://github.com/galaxyproject/galaxy.git</li>
</ul>

<p><em>We use the “-b” option to clone a specific branch of the repository.
In the example above we clone the branch release_16.07 because the latest release is 16.07.
A new version of Galaxy is released every 3 months.
It is strongly encouraged to run this tutorial with the latest release.
See the <a href="https://github.com/galaxyproject/galaxy">GitHub</a> repository to get the latest one.</em></p>

<ul>
  <li>Galaxy configuration filenames</li>
</ul>

<p><em>In the config/ directory all the files are suffixed with “.sample”.
Sample files are default files provided by Galaxy.
When you change a configuration it is strongly encouraged to work directly on a filename without the ‘sample’ suffix.
So, go ahead save the ‘galaxy.ini.sample’ and create a ‘galaxy.ini’</em></p>

<h2 id="whats-next-">What’s next ?</h2>
<p>Next, you will configure your Galaxy server for production.
The first thing to do is to disable the developer settings.</p>

<h1 id="disable-developer-settings">Disable developer settings.</h1>
<p>As previously mentioned the basic installation is for development only.
A set of option are useful for development but become irrelevant for production:</p>

<ul>
  <li>
    <p>debug:</p>

    <p>debug = False</p>
  </li>
</ul>

<p>Setting debug to False disable middleware that loads the entire response in memory for displaying debugging information in the page.
If left enabled, the proxy server may timeout waiting for a response or your Galaxy process may run out of memory if it’s serving large files.</p>

<ul>
  <li>
    <p>use_interactive:</p>

    <p>use_interactive = False</p>
  </li>
</ul>

<p>Setting use_interactive to false disable displaying and live debugging of tracebacks via the web.
Leaving it enabled will expose your configuration (database password, id_secret, etc.).</p>

<ul>
  <li>filter-with:</li>
</ul>


        

        

        

        <h3><i class="fa fa-thumbs-up" aria-hidden="true"></i><span class="visually-hidden">congratulations</span> Congratulations on successfully completing this tutorial!</h3>
        <hr>
        <br>

        <iframe class="google-form" src="https://docs.google.com/forms/d/e/1FAIpQLSd4VZptFTQ03kHkMz0JyW9b6_S8geU5KjNE_tLM0dixT3ZQmA/viewform?embedded=true&entry.1235803833=Move from dev instance to production instance (Galaxy Server administration)">Loading...
        </iframe>

        <blockquote class="feedback">
            <h3><i class="fa fa-comments-o" aria-hidden="true"></i><span class="visually-hidden">feedback</span> Give us even more feedback on this content!</h3>
            <p>To give us more detailed feedback about these materials, please take a moment to fill in the extended <a href="https://docs.google.com/forms/d/e/1FAIpQLSc_GLZRpxZGAL9tN6DA1bE6WkNhmQdXT7B16TpOb-X4YwKUsQ/viewform?entry.1548889262=Move from dev instance to production instance (Galaxy Server administration)">Feedback Form</a>.</p>
        </blockquote>
    </section>
</div>


<footer>
    <div class="container">
        <p>
            This material is the result of a collaborative work. Thanks to the
            <a href="https://wiki.galaxyproject.org/Teach/GTN">Galaxy Training Network</a>
            and all the <a href="/training-material/hall-of-fame">contributors</a> (Hans-Rudolf Hotz)!
        </p>
        <p>
            Found a typo? Something is wrong in this tutorial? Edit it on
            <a href="https://github.com/galaxyproject/training-material/tree/master/topics/admin/tutorials/dev-to-production/tutorial.md">GitHub</a>.
        </p>
    </div>
</footer>

    </body>
    <script type="text/javascript" src="/training-material/assets/js/jquery.slim.min.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/popper.min.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/bootstrap.min.js?v=3"></script>
    <script type="text/javascript" src="/training-material/assets/js/details-element-polyfill.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="/training-material/assets/js/main.js"></script>
</html>
