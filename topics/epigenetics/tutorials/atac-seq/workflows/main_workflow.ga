{
  "a_galaxy_workflow": "true",
  "annotation": "",
  "format-version": "0.1",
  "name": "ATAC-seq GTM with visualisation",
  "steps": {
    "0": {
      "annotation": "",
      "content_id": null,
      "errors": null,
      "id": 0,
      "input_connections": {},
      "inputs": [],
      "label": "R1 read in fastqsanger(.gz) format",
      "name": "Input dataset",
      "outputs": [],
      "position": {
        "left": 192.4000244140625,
        "top": 175.5
      },
      "tool_id": null,
      "tool_state": "{}",
      "tool_version": null,
      "type": "data_input",
      "uuid": "f53186d1-9b90-4c78-b89b-7203db2aae69",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "output",
          "uuid": "5527fbc6-9be0-43b2-8247-1df0b4e90bae"
        }
      ]
    },
    "1": {
      "annotation": "",
      "content_id": null,
      "errors": null,
      "id": 1,
      "input_connections": {},
      "inputs": [],
      "label": "R2 read in fastqsanger(.gz) format",
      "name": "Input dataset",
      "outputs": [],
      "position": {
        "left": 188.6500244140625,
        "top": 294.75
      },
      "tool_id": null,
      "tool_state": "{}",
      "tool_version": null,
      "type": "data_input",
      "uuid": "816716b8-7db3-4d05-8ef2-dfa0f8c8c264",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "output",
          "uuid": "edd8a255-5bcf-44cd-a324-1d2a1789e380"
        }
      ]
    },
    "10": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/picard/picard_MarkDuplicates/2.18.2.2",
      "errors": null,
      "id": 10,
      "input_connections": {
        "inputFile": {
          "id": 9,
          "output_name": "out_file1"
        }
      },
      "inputs": [],
      "label": null,
      "name": "MarkDuplicates",
      "outputs": [
        {
          "name": "metrics_file",
          "type": "txt"
        },
        {
          "name": "outFile",
          "type": "bam"
        }
      ],
      "position": {
        "left": 1136.6500244140625,
        "top": 292.5
      },
      "post_job_actions": {
        "RenameDatasetActionoutFile": {
          "action_arguments": {
            "newname": "#{inputFile} without duplicates"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outFile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/picard/picard_MarkDuplicates/2.18.2.2",
      "tool_shed_repository": {
        "changeset_revision": "7d34178f2812",
        "name": "picard",
        "owner": "devteam",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"duplicate_scoring_strategy\": \"\\\"SUM_OF_BASE_QUALITIES\\\"\", \"remove_duplicates\": \"\\\"true\\\"\", \"read_name_regex\": \"\\\"\\\"\", \"barcode_tag\": \"\\\"\\\"\", \"__page__\": null, \"__rerun_remap_job_id__\": null, \"optical_duplicate_pixel_distance\": \"\\\"100\\\"\", \"comments\": \"[]\", \"assume_sorted\": \"\\\"true\\\"\", \"validation_stringency\": \"\\\"LENIENT\\\"\", \"inputFile\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\"}",
      "tool_version": "2.18.2.2",
      "type": "tool",
      "uuid": "83e539cb-b708-4c85-8298-3f5bdb4ef0ff",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "outFile",
          "uuid": "504761e2-71eb-4054-a0bb-ce4fe2776687"
        },
        {
          "label": null,
          "output_name": "metrics_file",
          "uuid": "f1f4bba5-9792-496a-9c40-8a3515c552b8"
        }
      ]
    },
    "11": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_sort/samtools_sort/2.0.2",
      "errors": null,
      "id": 11,
      "input_connections": {
        "input1": {
          "id": 10,
          "output_name": "outFile"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Samtools sort",
      "outputs": [
        {
          "name": "output1",
          "type": "bam"
        }
      ],
      "position": {
        "left": 1321.1500396728516,
        "top": 483.38330078125
      },
      "post_job_actions": {},
      "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/samtools_sort/samtools_sort/2.0.2",
      "tool_shed_repository": {
        "changeset_revision": "f56bdb93ae58",
        "name": "samtools_sort",
        "owner": "devteam",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"input1\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"prim_key_cond\": \"{\\\"__current_case__\\\": 1, \\\"prim_key_select\\\": \\\"-n\\\"}\"}",
      "tool_version": "2.0.2",
      "type": "tool",
      "uuid": "2ad41cb6-0775-4136-b7c7-04c046b64f92",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "output1",
          "uuid": "d3d95f19-b68a-4fa3-945d-097554ab79b7"
        }
      ]
    },
    "12": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/picard/picard_CollectInsertSizeMetrics/2.18.2.1",
      "errors": null,
      "id": 12,
      "input_connections": {
        "inputFile": {
          "id": 10,
          "output_name": "outFile"
        }
      },
      "inputs": [],
      "label": null,
      "name": "CollectInsertSizeMetrics",
      "outputs": [
        {
          "name": "outFile",
          "type": "tabular"
        },
        {
          "name": "histFile",
          "type": "pdf"
        }
      ],
      "position": {
        "left": 1368.7500305175781,
        "top": 339.75
      },
      "post_job_actions": {
        "HideDatasetActionoutFile": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "outFile"
        },
        "RenameDatasetActionhistFile": {
          "action_arguments": {
            "newname": "fragment size plot of #{inputFile}"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "histFile"
        },
        "RenameDatasetActionoutFile": {
          "action_arguments": {
            "newname": "fragment size data of #{inputFile}"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "outFile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/picard/picard_CollectInsertSizeMetrics/2.18.2.1",
      "tool_shed_repository": {
        "changeset_revision": "7d34178f2812",
        "name": "picard",
        "owner": "devteam",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"__page__\": null, \"deviations\": \"\\\"10.0\\\"\", \"__rerun_remap_job_id__\": null, \"hist_width\": \"\\\"\\\"\", \"assume_sorted\": \"\\\"true\\\"\", \"metric_accumulation_level\": \"[\\\"ALL_READS\\\"]\", \"validation_stringency\": \"\\\"LENIENT\\\"\", \"reference_source\": \"{\\\"__current_case__\\\": 0, \\\"ref_file\\\": \\\"hg38\\\", \\\"reference_source_selector\\\": \\\"cached\\\"}\", \"min_pct\": \"\\\"0.05\\\"\", \"inputFile\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\"}",
      "tool_version": "2.18.2.1",
      "type": "tool",
      "uuid": "29f106aa-9c3c-4148-ac6f-5c29537ebefc",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "histFile",
          "uuid": "35615e33-2c89-4a2d-8841-ad2b6e71bdb6"
        }
      ]
    },
    "13": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/genrich/genrich/0.5+galaxy1",
      "errors": null,
      "id": 13,
      "input_connections": {
        "treatment|input_treatment_file": {
          "id": 11,
          "output_name": "output1"
        }
      },
      "inputs": [
        {
          "description": "runtime parameter for tool Genrich",
          "name": "treatment"
        }
      ],
      "label": null,
      "name": "Genrich",
      "outputs": [
        {
          "name": "outfile",
          "type": "encodepeak"
        },
        {
          "name": "out_bedgraph2",
          "type": "bedgraph"
        },
        {
          "name": "out_dups",
          "type": "txt"
        }
      ],
      "position": {
        "left": 1551.4000396728516,
        "top": 598.88330078125
      },
      "post_job_actions": {
        "ChangeDatatypeActionoutfile": {
          "action_arguments": {
            "newtype": "bed"
          },
          "action_type": "ChangeDatatypeAction",
          "output_name": "outfile"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/genrich/genrich/0.5+galaxy1",
      "tool_shed_repository": {
        "changeset_revision": "db50f51a2952",
        "name": "genrich",
        "owner": "iuc",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"control\": \"{\\\"__current_case__\\\": 1, \\\"c_select\\\": \\\"No\\\"}\", \"__page__\": null, \"output_options\": \"{\\\"bed\\\": \\\"false\\\", \\\"bedgraph1\\\": \\\"false\\\", \\\"bedgraph2\\\": \\\"true\\\"}\", \"__rerun_remap_job_id__\": null, \"other_options\": \"{\\\"skip_peak_calling\\\": \\\"false\\\"}\", \"filter_options\": \"{\\\"alignment_lengths\\\": \\\"\\\", \\\"alignment_lengths2\\\": \\\"false\\\", \\\"alignment_score\\\": \\\"0.0\\\", \\\"duplicates\\\": \\\"true\\\", \\\"exclude_chr\\\": \\\"\\\", \\\"min_mapq\\\": \\\"0\\\", \\\"unpaired\\\": \\\"false\\\"}\", \"peakcalling_options\": \"{\\\"max_dist\\\": \\\"100\\\", \\\"max_p\\\": \\\"\\\", \\\"max_q\\\": \\\"0.05\\\", \\\"min_auc\\\": \\\"20.0\\\", \\\"min_peak_length\\\": \\\"0\\\"}\", \"atac_options\": \"{\\\"atac\\\": \\\"true\\\", \\\"expand_sites\\\": \\\"100\\\"}\", \"treatment\": \"{\\\"__current_case__\\\": 0, \\\"input_treatment_file\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"t_multi_select\\\": \\\"No\\\"}\", \"cond_exclude\": \"{\\\"__current_case__\\\": 0, \\\"exclude_select\\\": \\\"No\\\"}\"}",
      "tool_version": "0.5+galaxy1",
      "type": "tool",
      "uuid": "589a0371-38f1-4c8e-bb0b-90a43d8a272b",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "outfile",
          "uuid": "2c6d1c46-fe27-4969-9204-81197de54de8"
        },
        {
          "label": null,
          "output_name": "out_bedgraph2",
          "uuid": "a482ef07-2e93-46c2-adee-bba3d461d85c"
        },
        {
          "label": null,
          "output_name": "out_dups",
          "uuid": "09e2d5d2-707a-4ec4-80b8-8b63cb336f6f"
        }
      ]
    },
    "14": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1",
      "errors": null,
      "id": 14,
      "input_connections": {
        "infile": {
          "id": 13,
          "output_name": "out_bedgraph2"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Text reformatting",
      "outputs": [
        {
          "name": "outfile",
          "type": "input"
        }
      ],
      "position": {
        "left": 1677.0000305175781,
        "top": 458.6333312988281
      },
      "post_job_actions": {},
      "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_awk_tool/1.1.1",
      "tool_shed_repository": {
        "changeset_revision": "0a8c6b61f0f4",
        "name": "text_processing",
        "owner": "bgruening",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"code\": \"\\\"NR>=3 {print $1,$2,$3,$4}\\\"\", \"infile\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\"}",
      "tool_version": "1.1.1",
      "type": "tool",
      "uuid": "f3d79632-df14-4b44-8322-ad1f807dceb7",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "outfile",
          "uuid": "65974a6e-e02d-4b91-b61c-a6290915cd48"
        }
      ]
    },
    "15": {
      "annotation": "",
      "content_id": "wig_to_bigWig",
      "errors": null,
      "id": 15,
      "input_connections": {
        "input1": {
          "id": 14,
          "output_name": "outfile"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Wig/BedGraph-to-bigWig",
      "outputs": [
        {
          "name": "out_file1",
          "type": "bigwig"
        }
      ],
      "position": {
        "left": 1856.6500244140625,
        "top": 465.75
      },
      "post_job_actions": {
        "RenameDatasetActionout_file1": {
          "action_arguments": {
            "newname": "bigwig of #{input1}"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "out_file1"
        }
      },
      "tool_id": "wig_to_bigWig",
      "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"input1\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"settings\": \"{\\\"__current_case__\\\": 0, \\\"settingsType\\\": \\\"preset\\\"}\"}",
      "tool_version": "1.1.1",
      "type": "tool",
      "uuid": "4b5a7ea3-7eaf-4f0c-9fba-0ba8475c09bd",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "out_file1",
          "uuid": "c3f9f58b-2051-4d03-a726-ce9a9bb77385"
        }
      ]
    },
    "16": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_compute_matrix/deeptools_compute_matrix/3.0.2.0",
      "errors": null,
      "id": 16,
      "input_connections": {
        "multibigwig_conditional|bigwigfiles": {
          "id": 15,
          "output_name": "out_file1"
        },
        "regionsFiles_0|regionsFile": {
          "id": 2,
          "output_name": "output"
        }
      },
      "inputs": [
        {
          "description": "runtime parameter for tool computeMatrix",
          "name": "advancedOpt"
        }
      ],
      "label": null,
      "name": "computeMatrix",
      "outputs": [
        {
          "name": "outFileName",
          "type": "deeptools_compute_matrix_archive"
        }
      ],
      "position": {
        "left": 2187.4000244140625,
        "top": 397.5
      },
      "post_job_actions": {},
      "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_compute_matrix/deeptools_compute_matrix/3.0.2.0",
      "tool_shed_repository": {
        "changeset_revision": "fb9cf9c97ec4",
        "name": "deeptools_compute_matrix",
        "owner": "bgruening",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"__page__\": null, \"__rerun_remap_job_id__\": null, \"multibigwig_conditional\": \"{\\\"__current_case__\\\": 0, \\\"bigwigfiles\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}, \\\"orderMatters\\\": \\\"No\\\"}\", \"mode\": \"{\\\"__current_case__\\\": 1, \\\"afterRegionStartLength\\\": \\\"1000\\\", \\\"beforeRegionStartLength\\\": \\\"1000\\\", \\\"mode_select\\\": \\\"reference-point\\\", \\\"nanAfterEnd\\\": \\\"false\\\", \\\"referencePoint\\\": \\\"TSS\\\"}\", \"output\": \"{\\\"__current_case__\\\": 0, \\\"showOutputSettings\\\": \\\"no\\\"}\", \"advancedOpt\": \"{\\\"__current_case__\\\": 1, \\\"averageTypeBins\\\": \\\"mean\\\", \\\"binSize\\\": \\\"50\\\", \\\"blackListFileName\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"exonID\\\": \\\"exon\\\", \\\"maxThreshold\\\": \\\"\\\", \\\"metagene\\\": \\\"false\\\", \\\"minThreshold\\\": \\\"\\\", \\\"missingDataAsZero\\\": \\\"true\\\", \\\"samplesLabel\\\": \\\"ATAC-Seq\\\", \\\"scale\\\": \\\"\\\", \\\"showAdvancedOpt\\\": \\\"yes\\\", \\\"skipZeros\\\": \\\"false\\\", \\\"sortRegions\\\": \\\"keep\\\", \\\"sortUsing\\\": \\\"mean\\\", \\\"transcriptID\\\": \\\"transcript\\\", \\\"transcript_id_designator\\\": \\\"transcript_id\\\"}\", \"regionsFiles\": \"[{\\\"__index__\\\": 0, \\\"regionsFile\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}}]\"}",
      "tool_version": "3.0.2.0",
      "type": "tool",
      "uuid": "eef43402-ee63-4496-afb3-33cf9ec08cc0",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "outFileName",
          "uuid": "6cfa392a-bb20-453b-9606-6f35c38998b7"
        }
      ]
    },
    "17": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/pygenometracks/pygenomeTracks/3.1.2",
      "errors": null,
      "id": 17,
      "input_connections": {
        "tracks_0|track_file_style_conditional|track_input_bigwig": {
          "id": 15,
          "output_name": "out_file1"
        },
        "tracks_1|track_file_style_conditional|track_input_bed": {
          "id": 13,
          "output_name": "outfile"
        },
        "tracks_2|track_file_style_conditional|track_input_bed": {
          "id": 6,
          "output_name": "output"
        },
        "tracks_3|track_file_style_conditional|track_input_bed": {
          "id": 7,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": null,
      "name": "pyGenomeTracks",
      "outputs": [
        {
          "name": "outFileName",
          "type": "png"
        }
      ],
      "position": {
        "left": 2191.5,
        "top": 552.75
      },
      "post_job_actions": {},
      "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/pygenometracks/pygenomeTracks/3.1.2",
      "tool_shed_repository": {
        "changeset_revision": "feab9265552d",
        "name": "pygenometracks",
        "owner": "iuc",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"__page__\": null, \"region\": \"\\\"chr22:21,620,000-21,660,000\\\"\", \"image_file_format\": \"\\\"png\\\"\", \"tracks\": \"[{\\\"__index__\\\": 0, \\\"track_file_style_conditional\\\": {\\\"__current_case__\\\": 5, \\\"alpha\\\": \\\"1.0\\\", \\\"color\\\": \\\"#c0504d\\\", \\\"color_negative\\\": {\\\"__current_case__\\\": 0, \\\"color_negative_select\\\": \\\"no\\\"}, \\\"data_range\\\": \\\"true\\\", \\\"height_bigwig\\\": \\\"5.0\\\", \\\"invert_orientation\\\": \\\"false\\\", \\\"max_value\\\": \\\"\\\", \\\"min_value\\\": \\\"\\\", \\\"overlay_select\\\": \\\"no\\\", \\\"reading_bw_conditional\\\": {\\\"nans_to_zeros\\\": \\\"false\\\", \\\"number_of_bins\\\": \\\"\\\", \\\"summary\\\": \\\"mean\\\"}, \\\"spacer_height\\\": \\\"0.5\\\", \\\"title\\\": \\\"Coverage from Genrich (extended +/-50bp)\\\", \\\"track_file_style_selector\\\": \\\"bigwig_track_option\\\", \\\"track_input_bigwig\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"type_conditional\\\": {\\\"__current_case__\\\": 2, \\\"type_selector\\\": \\\"fill_option\\\"}}}, {\\\"__index__\\\": 1, \\\"track_file_style_conditional\\\": {\\\"__current_case__\\\": 3, \\\"border_color\\\": \\\"#000000\\\", \\\"color_bed\\\": {\\\"__current_case__\\\": 0, \\\"color\\\": \\\"#000000\\\", \\\"color_bed_select\\\": \\\"manually\\\"}, \\\"display\\\": \\\"stacked\\\", \\\"flybase\\\": \\\"true\\\", \\\"fontsize\\\": \\\"\\\", \\\"gene_rows\\\": \\\"\\\", \\\"global_max_row\\\": \\\"false\\\", \\\"height_bed\\\": \\\"3.0\\\", \\\"labels\\\": \\\"false\\\", \\\"spacer_height\\\": \\\"0.5\\\", \\\"title\\\": \\\"Peaks from Genrich (extended +/-50bp)\\\", \\\"track_file_style_selector\\\": \\\"gene_track_option\\\", \\\"track_input_bed\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}}}, {\\\"__index__\\\": 2, \\\"track_file_style_conditional\\\": {\\\"__current_case__\\\": 3, \\\"border_color\\\": \\\"#000000\\\", \\\"color_bed\\\": {\\\"__current_case__\\\": 0, \\\"color\\\": \\\"#000000\\\", \\\"color_bed_select\\\": \\\"manually\\\"}, \\\"display\\\": \\\"stacked\\\", \\\"flybase\\\": \\\"true\\\", \\\"fontsize\\\": \\\"\\\", \\\"gene_rows\\\": \\\"\\\", \\\"global_max_row\\\": \\\"false\\\", \\\"height_bed\\\": \\\"5.0\\\", \\\"labels\\\": \\\"true\\\", \\\"spacer_height\\\": \\\"0.5\\\", \\\"title\\\": \\\"Genes\\\", \\\"track_file_style_selector\\\": \\\"gene_track_option\\\", \\\"track_input_bed\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}}}, {\\\"__index__\\\": 3, \\\"track_file_style_conditional\\\": {\\\"__current_case__\\\": 3, \\\"border_color\\\": \\\"#000000\\\", \\\"color_bed\\\": {\\\"__current_case__\\\": 0, \\\"color\\\": \\\"#4f81bd\\\", \\\"color_bed_select\\\": \\\"manually\\\"}, \\\"display\\\": \\\"stacked\\\", \\\"flybase\\\": \\\"true\\\", \\\"fontsize\\\": \\\"\\\", \\\"gene_rows\\\": \\\"\\\", \\\"global_max_row\\\": \\\"false\\\", \\\"height_bed\\\": \\\"1.5\\\", \\\"labels\\\": \\\"false\\\", \\\"spacer_height\\\": \\\"\\\", \\\"title\\\": \\\"CTCF peaks\\\", \\\"track_file_style_selector\\\": \\\"gene_track_option\\\", \\\"track_input_bed\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}}}]\", \"__rerun_remap_job_id__\": null, \"x_axis\": \"{\\\"__current_case__\\\": 0, \\\"fontsize\\\": \\\"\\\", \\\"where\\\": \\\"bottom\\\", \\\"x_axis_select\\\": \\\"yes\\\"}\"}",
      "tool_version": "3.1.2",
      "type": "tool",
      "uuid": "ae418b94-d3c4-4bde-88ba-0684cfa6c2c3",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "outFileName",
          "uuid": "bb9a1996-23ce-4b37-af06-efe2954c8689"
        }
      ]
    },
    "18": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_heatmap/deeptools_plot_heatmap/3.0.2.0",
      "errors": null,
      "id": 18,
      "input_connections": {
        "matrixFile": {
          "id": 16,
          "output_name": "outFileName"
        }
      },
      "inputs": [],
      "label": null,
      "name": "plotHeatmap",
      "outputs": [
        {
          "name": "outFileName",
          "type": "png"
        }
      ],
      "position": {
        "left": 2402.6500244140625,
        "top": 408
      },
      "post_job_actions": {},
      "tool_id": "toolshed.g2.bx.psu.edu/repos/bgruening/deeptools_plot_heatmap/deeptools_plot_heatmap/3.0.2.0",
      "tool_shed_repository": {
        "changeset_revision": "010e58e9d822",
        "name": "deeptools_plot_heatmap",
        "owner": "bgruening",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"__page__\": null, \"output\": \"{\\\"__current_case__\\\": 0, \\\"showOutputSettings\\\": \\\"no\\\"}\", \"advancedOpt\": \"{\\\"__current_case__\\\": 0, \\\"showAdvancedOpt\\\": \\\"no\\\"}\", \"__rerun_remap_job_id__\": null, \"matrixFile\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\"}",
      "tool_version": "3.0.2.0",
      "type": "tool",
      "uuid": "656bebc6-0a5f-4735-9424-eda6f89dea22",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "outFileName",
          "uuid": "64ed7ed5-1b16-4be6-b941-0b723e327733"
        }
      ]
    },
    "2": {
      "annotation": "",
      "content_id": null,
      "errors": null,
      "id": 2,
      "input_connections": {},
      "inputs": [],
      "label": "bed file with genes",
      "name": "Input dataset",
      "outputs": [],
      "position": {
        "left": 1579.1500396728516,
        "top": 765.75
      },
      "tool_id": null,
      "tool_state": "{}",
      "tool_version": null,
      "type": "data_input",
      "uuid": "e98dd9bc-ab4d-49a1-a176-11b5c78f59f7",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "output",
          "uuid": "aeffffdb-11df-4950-9b2f-80e1ab2ddbbb"
        }
      ]
    },
    "3": {
      "annotation": "",
      "content_id": null,
      "errors": null,
      "id": 3,
      "input_connections": {},
      "inputs": [],
      "label": "ctcf peaks",
      "name": "Input dataset",
      "outputs": [],
      "position": {
        "left": 1525.1500396728516,
        "top": 936
      },
      "tool_id": null,
      "tool_state": "{}",
      "tool_version": null,
      "type": "data_input",
      "uuid": "afd163ef-195d-44d6-8a80-f4be837d5d43",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "output",
          "uuid": "a050ddf5-ed6a-410f-9bd6-b2ce6ebb0314"
        }
      ]
    },
    "4": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/fastqc/fastqc/0.72+galaxy1",
      "errors": null,
      "id": 4,
      "input_connections": {
        "input_file": {
          "id": 0,
          "output_name": "output"
        }
      },
      "inputs": [
        {
          "description": "runtime parameter for tool FastQC",
          "name": "limits"
        },
        {
          "description": "runtime parameter for tool FastQC",
          "name": "contaminants"
        },
        {
          "description": "runtime parameter for tool FastQC",
          "name": "adapters"
        }
      ],
      "label": null,
      "name": "FastQC",
      "outputs": [
        {
          "name": "html_file",
          "type": "html"
        },
        {
          "name": "text_file",
          "type": "txt"
        }
      ],
      "position": {
        "left": 406.9000244140625,
        "top": 427.5
      },
      "post_job_actions": {
        "RenameDatasetActionhtml_file": {
          "action_arguments": {
            "newname": "FastQC of #{input_file}"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "html_file"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/fastqc/fastqc/0.72+galaxy1",
      "tool_shed_repository": {
        "changeset_revision": "ddf5c37952ac",
        "name": "fastqc",
        "owner": "devteam",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"min_length\": \"\\\"\\\"\", \"kmers\": \"\\\"7\\\"\", \"limits\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"input_file\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"__page__\": null, \"__rerun_remap_job_id__\": null, \"contaminants\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"adapters\": \"{\\\"__class__\\\": \\\"RuntimeValue\\\"}\", \"nogroup\": \"\\\"false\\\"\"}",
      "tool_version": "0.72+galaxy1",
      "type": "tool",
      "uuid": "189a22b5-434f-460c-bf5c-321f6daf8d3e",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "html_file",
          "uuid": "84546090-b1a0-43b3-82e4-d4a27aacc0d0"
        },
        {
          "label": null,
          "output_name": "text_file",
          "uuid": "cf433722-1d9d-4e31-8ecf-43d38bf787ce"
        }
      ]
    },
    "5": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/lparsons/cutadapt/cutadapt/1.16.5",
      "errors": null,
      "id": 5,
      "input_connections": {
        "library|input_1": {
          "id": 0,
          "output_name": "output"
        },
        "library|input_2": {
          "id": 1,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": "remove nextera adapters with cutadapt",
      "name": "Cutadapt",
      "outputs": [
        {
          "name": "out1",
          "type": "fastqsanger"
        },
        {
          "name": "out2",
          "type": "fastqsanger"
        },
        {
          "name": "report",
          "type": "txt"
        }
      ],
      "position": {
        "left": 418.9000244140625,
        "top": 179.25
      },
      "post_job_actions": {
        "RenameDatasetActionout1": {
          "action_arguments": {
            "newname": "cutadapt of #{input_1}"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "out1"
        },
        "RenameDatasetActionout2": {
          "action_arguments": {
            "newname": "cutadapt of #{input_2}"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "out2"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/lparsons/cutadapt/cutadapt/1.16.5",
      "tool_shed_repository": {
        "changeset_revision": "49370cb85f0f",
        "name": "cutadapt",
        "owner": "lparsons",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"__page__\": null, \"output_options\": \"{\\\"info_file\\\": \\\"false\\\", \\\"multiple_output\\\": \\\"false\\\", \\\"report\\\": \\\"true\\\", \\\"rest_file\\\": \\\"false\\\", \\\"too_long_file\\\": \\\"false\\\", \\\"too_short_file\\\": \\\"false\\\", \\\"untrimmed_file\\\": \\\"false\\\", \\\"wildcard_file\\\": \\\"false\\\"}\", \"read_mod_options\": \"{\\\"length\\\": \\\"0\\\", \\\"length_tag\\\": \\\"\\\", \\\"nextseq_trim\\\": \\\"0\\\", \\\"prefix\\\": \\\"\\\", \\\"quality_cutoff\\\": \\\"20\\\", \\\"strip_suffix\\\": \\\"\\\", \\\"suffix\\\": \\\"\\\", \\\"trim_n\\\": \\\"false\\\"}\", \"adapter_options\": \"{\\\"count\\\": \\\"1\\\", \\\"error_rate\\\": \\\"0.1\\\", \\\"mask_adapter\\\": \\\"false\\\", \\\"match_read_wildcards\\\": \\\" \\\", \\\"no_indels\\\": \\\"false\\\", \\\"no_trim\\\": \\\"false\\\", \\\"overlap\\\": \\\"3\\\"}\", \"library\": \"{\\\"__current_case__\\\": 1, \\\"input_1\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}, \\\"input_2\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}, \\\"r1\\\": {\\\"adapters\\\": [{\\\"__index__\\\": 0, \\\"adapter_source\\\": {\\\"__current_case__\\\": 0, \\\"adapter\\\": \\\"CTGTCTCTTATACACATCTCCGAGCCCACGAGAC\\\", \\\"adapter_name\\\": \\\"Nextera R1\\\", \\\"adapter_source_list\\\": \\\"user\\\"}}], \\\"anywhere_adapters\\\": [], \\\"cut\\\": \\\"0\\\", \\\"front_adapters\\\": []}, \\\"r2\\\": {\\\"adapters2\\\": [{\\\"__index__\\\": 0, \\\"adapter_source2\\\": {\\\"__current_case__\\\": 0, \\\"adapter2\\\": \\\"CTGTCTCTTATACACATCTGACGCTGCCGACGA\\\", \\\"adapter_name2\\\": \\\"Nextera R2\\\", \\\"adapter_source_list2\\\": \\\"user\\\"}}], \\\"anywhere_adapters2\\\": [], \\\"cut2\\\": \\\"0\\\", \\\"front_adapters2\\\": []}, \\\"type\\\": \\\"paired\\\"}\", \"filter_options\": \"{\\\"discard\\\": \\\"false\\\", \\\"discard_untrimmed\\\": \\\"false\\\", \\\"max\\\": \\\"0\\\", \\\"max_n\\\": \\\"\\\", \\\"min\\\": \\\"20\\\", \\\"pair_filter\\\": \\\"any\\\"}\", \"__rerun_remap_job_id__\": null}",
      "tool_version": "1.16.5",
      "type": "tool",
      "uuid": "cf97879c-01f2-4d57-be28-ca10998e10b6",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "report",
          "uuid": "1cab95b3-54c0-412c-ab28-1278ef04a26f"
        },
        {
          "label": null,
          "output_name": "out1",
          "uuid": "dd4a2ba8-faa2-446c-b9ac-91289ebd73b5"
        },
        {
          "label": null,
          "output_name": "out2",
          "uuid": "c94315ab-825b-4cae-a9ae-839faf90c09f"
        }
      ]
    },
    "6": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_sortbed/2.27.1",
      "errors": null,
      "id": 6,
      "input_connections": {
        "input": {
          "id": 2,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": null,
      "name": "bedtools SortBED",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "left": 1841.6500244140625,
        "top": 721.88330078125
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_sortbed/2.27.1",
      "tool_shed_repository": {
        "changeset_revision": "dde39ba9c031",
        "name": "bedtools",
        "owner": "iuc",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"input\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"__rerun_remap_job_id__\": null, \"option\": \"\\\"\\\"\", \"__page__\": null}",
      "tool_version": "2.27.1",
      "type": "tool",
      "uuid": "0188766d-6fb1-49cc-a627-8dba718663d3",
      "workflow_outputs": []
    },
    "7": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_sortbed/2.27.1",
      "errors": null,
      "id": 7,
      "input_connections": {
        "input": {
          "id": 3,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": null,
      "name": "bedtools SortBED",
      "outputs": [
        {
          "name": "output",
          "type": "input"
        }
      ],
      "position": {
        "left": 1843.1500244140625,
        "top": 861.38330078125
      },
      "post_job_actions": {
        "HideDatasetActionoutput": {
          "action_arguments": {},
          "action_type": "HideDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/bedtools/bedtools_sortbed/2.27.1",
      "tool_shed_repository": {
        "changeset_revision": "dde39ba9c031",
        "name": "bedtools",
        "owner": "iuc",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"input\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"__rerun_remap_job_id__\": null, \"option\": \"\\\"\\\"\", \"__page__\": null}",
      "tool_version": "2.27.1",
      "type": "tool",
      "uuid": "190fe21a-4738-4be7-aa01-a467355be7c3",
      "workflow_outputs": []
    },
    "8": {
      "annotation": "",
      "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/bowtie2/bowtie2/2.3.4.3",
      "errors": null,
      "id": 8,
      "input_connections": {
        "library|input_1": {
          "id": 5,
          "output_name": "out1"
        },
        "library|input_2": {
          "id": 5,
          "output_name": "out2"
        }
      },
      "inputs": [],
      "label": null,
      "name": "Bowtie2",
      "outputs": [
        {
          "name": "output",
          "type": "bam"
        },
        {
          "name": "mapping_stats",
          "type": "txt"
        }
      ],
      "position": {
        "left": 662.6500244140625,
        "top": 255
      },
      "post_job_actions": {
        "RenameDatasetActionmapping_stats": {
          "action_arguments": {
            "newname": "mapping stats of #{input_1}"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "mapping_stats"
        },
        "RenameDatasetActionoutput": {
          "action_arguments": {
            "newname": "mapping of #{input_1}"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "output"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/bowtie2/bowtie2/2.3.4.3",
      "tool_shed_repository": {
        "changeset_revision": "017aba02828d",
        "name": "bowtie2",
        "owner": "devteam",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"sam_options\": \"{\\\"__current_case__\\\": 1, \\\"sam_options_selector\\\": \\\"no\\\"}\", \"__page__\": null, \"__rerun_remap_job_id__\": null, \"library\": \"{\\\"__current_case__\\\": 1, \\\"aligned_file\\\": \\\"false\\\", \\\"input_1\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}, \\\"input_2\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}, \\\"paired_options\\\": {\\\"I\\\": \\\"0\\\", \\\"X\\\": \\\"1000\\\", \\\"__current_case__\\\": 0, \\\"dovetail\\\": \\\"true\\\", \\\"fr_rf_ff\\\": \\\"--fr\\\", \\\"no_contain\\\": \\\"false\\\", \\\"no_discordant\\\": \\\"false\\\", \\\"no_mixed\\\": \\\"false\\\", \\\"no_overlap\\\": \\\"false\\\", \\\"paired_options_selector\\\": \\\"yes\\\"}, \\\"type\\\": \\\"paired\\\", \\\"unaligned_file\\\": \\\"false\\\"}\", \"reference_genome\": \"{\\\"__current_case__\\\": 0, \\\"index\\\": \\\"hg38\\\", \\\"source\\\": \\\"indexed\\\"}\", \"rg\": \"{\\\"__current_case__\\\": 3, \\\"rg_selector\\\": \\\"do_not_set\\\"}\", \"save_mapping_stats\": \"\\\"true\\\"\", \"analysis_type\": \"{\\\"__current_case__\\\": 0, \\\"analysis_type_selector\\\": \\\"simple\\\", \\\"presets\\\": \\\"--very-sensitive\\\"}\"}",
      "tool_version": "2.3.4.3",
      "type": "tool",
      "uuid": "d12fa188-7671-4ff7-b13f-9ea2322c9a6a",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "output",
          "uuid": "1af4d81d-377e-4880-bbac-604b5accce80"
        },
        {
          "label": null,
          "output_name": "mapping_stats",
          "uuid": "3311e54f-3721-44b7-be56-adb2610c8c04"
        }
      ]
    },
    "9": {
      "annotation": "We keep properly paired reads, not on chrM, with MAPQ&gt;=30.",
      "content_id": "toolshed.g2.bx.psu.edu/repos/devteam/bamtools_filter/bamFilter/2.4.1",
      "errors": null,
      "id": 9,
      "input_connections": {
        "input_bam": {
          "id": 8,
          "output_name": "output"
        }
      },
      "inputs": [],
      "label": "Filter BAM",
      "name": "Filter",
      "outputs": [
        {
          "name": "out_file2",
          "type": "txt"
        },
        {
          "name": "out_file1",
          "type": "bam"
        }
      ],
      "position": {
        "left": 911.6500244140625,
        "top": 287.25
      },
      "post_job_actions": {
        "RenameDatasetActionout_file1": {
          "action_arguments": {
            "newname": "#{input_bam} filtered"
          },
          "action_type": "RenameDatasetAction",
          "output_name": "out_file1"
        }
      },
      "tool_id": "toolshed.g2.bx.psu.edu/repos/devteam/bamtools_filter/bamFilter/2.4.1",
      "tool_shed_repository": {
        "changeset_revision": "bd735cae4ce6",
        "name": "bamtools_filter",
        "owner": "devteam",
        "tool_shed": "toolshed.g2.bx.psu.edu"
      },
      "tool_state": "{\"input_bam\": \"{\\\"__class__\\\": \\\"ConnectedValue\\\"}\", \"__rerun_remap_job_id__\": null, \"rule_configuration\": \"{\\\"__current_case__\\\": 0, \\\"rules_selector\\\": \\\"false\\\"}\", \"conditions\": \"[{\\\"__index__\\\": 0, \\\"filters\\\": [{\\\"__index__\\\": 0, \\\"bam_property\\\": {\\\"__current_case__\\\": 14, \\\"bam_property_selector\\\": \\\"mapQuality\\\", \\\"bam_property_value\\\": \\\">=30\\\"}}, {\\\"__index__\\\": 1, \\\"bam_property\\\": {\\\"__current_case__\\\": 11, \\\"bam_property_selector\\\": \\\"isProperPair\\\", \\\"bam_property_value\\\": \\\"true\\\"}}, {\\\"__index__\\\": 2, \\\"bam_property\\\": {\\\"__current_case__\\\": 20, \\\"bam_property_selector\\\": \\\"reference\\\", \\\"bam_property_value\\\": \\\"!chrM\\\"}}]}]\", \"__page__\": null}",
      "tool_version": "2.4.1",
      "type": "tool",
      "uuid": "9dbe136b-92c2-44b7-ba6d-41b0d4e65f53",
      "workflow_outputs": [
        {
          "label": null,
          "output_name": "out_file2",
          "uuid": "24bcb016-ddbc-4397-b65b-e55f6a6dcf2e"
        },
        {
          "label": null,
          "output_name": "out_file1",
          "uuid": "a7fd4b61-3850-4742-9979-d4022c4c3bf3"
        }
      ]
    }
  },
  "tags": [],
  "uuid": "829cd07f-23e4-4262-94e9-761fca61a2fc",
  "version": 3
}
